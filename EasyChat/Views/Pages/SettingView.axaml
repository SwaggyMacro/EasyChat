<UserControl x:Class="EasyChat.Views.Pages.SettingView"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:suki="https://github.com/kikipoulet/SukiUI"
             xmlns:viewModels="clr-namespace:EasyChat.ViewModels.Pages"
             xmlns:lang="clr-namespace:EasyChat.Lang;assembly=EasyChat"
             xmlns:objectModel="clr-namespace:System.Collections.ObjectModel;assembly=System.ObjectModel"
             xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
             xmlns:converts="clr-namespace:EasyChat.Converters;assembly=EasyChat"
             xmlns:dataConverters="clr-namespace:Avalonia.Data.Converters;assembly=Avalonia.Base"
             x:DataType="viewModels:SettingViewModel"
             mc:Ignorable="d">
    <UserControl.Resources>
        <converts:EnumToDescriptionConverter x:Key="EnumToDescriptionConverter" />
        <converts:ColorToHexConverter x:Key="ColorToHexConverter" />
        <converts:DeliveryModeToBoolConverter x:Key="DeliveryModeToBoolConverter" />
        <converts:DeliveryModeToStringConverter x:Key="DeliveryModeToStringConverter" />
        <converts:ScreenshotModeConverter x:Key="ScreenshotModeConverter" />


    </UserControl.Resources>
    <UserControl.Styles>
        <Style Selector="suki|GlassCard.ModelCard StackPanel.ActionButtons">
            <Setter Property="Opacity" Value="0" />
            <Setter Property="Transitions">
                <Transitions>
                    <DoubleTransition Property="Opacity" Duration="0:0:0.2" />
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="suki|GlassCard.ModelCard:pointerover StackPanel.ActionButtons">
            <Setter Property="Opacity" Value="1" />
        </Style>
    </UserControl.Styles>

    <suki:SettingsLayout>
        <suki:SettingsLayout.Items>
            <objectModel:ObservableCollection x:TypeArguments="suki:SettingsLayoutItem">
                <suki:SettingsLayoutItem Header="{x:Static lang:Resources.General}">
                    <suki:SettingsLayoutItem.Content>
                        <suki:GlassCard>
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.Language}" />
                                    <ComboBox ItemsSource="{Binding Languages}"
                                              SelectedItem="{Binding SelectedLanguage}"
                                              MinWidth="150">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="8">
                                                    <Border ClipToBounds="True" CornerRadius="2" Width="20" Height="14"
                                                            IsVisible="{Binding Icon, Converter={x:Static dataConverters:StringConverters.IsNotNullOrEmpty}}">
                                                        <Image Source="{Binding Icon, Converter={x:Static converts:LanguageFlagConverters.ToIcon}}"
                                                               Stretch="UniformToFill" />
                                                    </Border>
                                                    <TextBlock Text="{Binding DisplayName}" VerticalAlignment="Center"
                                                               Foreground="{DynamicResource SukiText}" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.ClosingBehavior}" />
                                    <ComboBox ItemsSource="{Binding ClosingBehaviors}"
                                              SelectedItem="{Binding SelectedClosingBehavior}">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Converter={StaticResource EnumToDescriptionConverter}}" />
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.TransEngine}" />
                                    <RadioButton GroupName="A"
                                                 IsChecked="{Binding GeneralConf.TransEngine, 
                                                 Converter={x:Static converts:EngineTypeToBoolConverters.AiModel}}">
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <avalonia:MaterialIcon Kind="Robot" Width="16" Height="16" />
                                            <TextBlock Text="{x:Static lang:Resources.AIEngine}" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </RadioButton>
                                    <RadioButton GroupName="A"
                                                 IsChecked="{Binding GeneralConf.TransEngine, 
                                                 Converter={x:Static converts:EngineTypeToBoolConverters.MachineTrans}}">
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <avalonia:MaterialIcon Kind="Translate" Width="16" Height="16" />
                                            <TextBlock Text="{x:Static lang:Resources.MachineTranslation}" VerticalAlignment="Center"/>
                                        </StackPanel>
                                    </RadioButton>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.UsingAiModel}" />
                                    <ComboBox ItemsSource="{Binding ConfiguredModels}"
                                              SelectedValue="{Binding GeneralConf.UsingAiModelId}"
                                              SelectedValueBinding="{Binding Id}"
                                              MinWidth="150">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="8">
                                                    <Panel Width="20" Height="20">
                                                        <Border ClipToBounds="True" CornerRadius="4"
                                                                IsVisible="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.IsNotCustom}}">
                                                            <Image Source="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.ToIcon}}"
                                                                   Stretch="UniformToFill" />
                                                        </Border>
                                                        <avalonia:MaterialIcon Kind="Robot" Width="20" Height="20"
                                                                               IsVisible="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.IsCustom}}" />
                                                    </Panel>
                                                    <TextBlock Text="{Binding Name}" VerticalAlignment="Center"
                                                               Foreground="{DynamicResource SukiText}" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.UsingMachineTransEngine}" />
                                    <ComboBox ItemsSource="{Binding MachineTransProviders}"
                                              SelectedItem="{Binding GeneralConf.UsingMachineTrans}"
                                              MinWidth="150">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="8">
                                                    <Panel Width="20" Height="20">
                                                        <Border ClipToBounds="True" CornerRadius="4"
                                                                IsVisible="{Binding Converter={x:Static converts:EngineConverters.HasIcon}}">
                                                            <Image Source="{Binding Converter={x:Static converts:EngineConverters.ToIcon}}"
                                                                   Stretch="UniformToFill" />
                                                        </Border>
                                                        <avalonia:MaterialIcon Kind="Translate" Width="20" Height="20"
                                                                               IsVisible="{Binding Converter={x:Static converts:EngineConverters.HasNoIcon}}" />
                                                    </Panel>
                                                    <TextBlock Text="{Binding}" VerticalAlignment="Center"
                                                               Foreground="{DynamicResource SukiText}" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.ProxyUrl}" />
                                    <TextBox MinWidth="300"
                                             Text="{Binding ProxyConf.ProxyUrl}"
                                             Watermark="{x:Static lang:Resources.ProxyAddrQuestion}" />
                                </StackPanel>
                            </StackPanel>
                        </suki:GlassCard>
                    </suki:SettingsLayoutItem.Content>
                </suki:SettingsLayoutItem>

                <suki:SettingsLayoutItem Header="{x:Static lang:Resources.Translation}">
                    <suki:SettingsLayoutItem.Content>
                        <suki:GlassCard>
                            <TabControl>
                                <TabItem Header="{x:Static lang:Resources.AIEngine}">
                                    <StackPanel>
                                        <!-- All cards and add button in one WrapPanel for proper flow -->
                                        <ItemsControl ItemsSource="{Binding ModelCardsWithAddButton}">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <WrapPanel />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Panel>
                                                        <!-- Model Card (visible when IsModelCard is true) -->
                                                        <suki:GlassCard MinWidth="340" MinHeight="150" Margin="5"
                                                                        Classes="ModelCard"
                                                                        IsVisible="{Binding IsModelCard}">
                                                            <suki:GroupBox>
                                                                <suki:GroupBox.Header>
                                                                    <Grid>
                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="*" />
                                                                            <ColumnDefinition Width="Auto" />
                                                                        </Grid.ColumnDefinitions>
                                                                        <StackPanel Grid.Column="0" Orientation="Horizontal">
                                                                            <!-- Show image icon for OpenAI/Gemini/Claude, MaterialIcon for Custom -->
                                                                            <Panel Width="20" Height="20" Margin="0,0,10,0">
                                                                                <Border ClipToBounds="True"
                                                                                        CornerRadius="4"
                                                                                        IsVisible="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.IsNotCustom}}">
                                                                                    <Image
                                                                                        Source="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.ToIcon}}"
                                                                                        Stretch="UniformToFill" />
                                                                                </Border>
                                                                                <avalonia:MaterialIcon Kind="Robot"
                                                                                        Width="20" Height="20"
                                                                                        IsVisible="{Binding ModelType, Converter={x:Static converts:AiModelTypeConverters.IsCustom}}" />
                                                                            </Panel>
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{Binding Name}" FontWeight="Bold" />
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{Binding ModelType, StringFormat=' ({0})'}"
                                                                                    Opacity="0.6" Margin="5,0,0,0" />
                                                                        </StackPanel>
                                                                        <!-- Proxy Status Toggle Icon and Connection Test Button -->
                                                                        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="2">
                                                                            <ToggleButton
                                                                                    IsChecked="{Binding Model.UseProxy}"
                                                                                    ToolTip.Tip="{x:Static lang:Resources.UseProxy}"
                                                                                    Background="Transparent"
                                                                                    BorderThickness="0"
                                                                                    Padding="4"
                                                                                    Cursor="Hand">
                                                                                <avalonia:MaterialIcon Kind="Vpn"
                                                                                        Width="18" Height="18">
                                                                                    <avalonia:MaterialIcon.Foreground>
                                                                                        <MultiBinding Converter="{x:Static converts:BoolToColorConverter.Instance}">
                                                                                            <Binding Path="Model.UseProxy" />
                                                                                        </MultiBinding>
                                                                                    </avalonia:MaterialIcon.Foreground>
                                                                                </avalonia:MaterialIcon>
                                                                            </ToggleButton>
                                                                            <Button
                                                                                    Command="{Binding $parent[ItemsControl].((viewModels:SettingViewModel)DataContext).TestAiModelConnectionCommand}"
                                                                                    CommandParameter="{Binding Model}"
                                                                                    ToolTip.Tip="{x:Static lang:Resources.TestConnection}"
                                                                                    Background="Transparent"
                                                                                    BorderThickness="0"
                                                                                    Padding="4"
                                                                                    Cursor="Hand">
                                                                                <Panel>
                                                                                    <avalonia:MaterialIcon Kind="Connection" Width="16" Height="16">
                                                                                        <avalonia:MaterialIcon.IsVisible>
                                                                                            <Binding Path="Model.IsTesting" Converter="{x:Static BoolConverters.Not}" />
                                                                                        </avalonia:MaterialIcon.IsVisible>
                                                                                    </avalonia:MaterialIcon>
                                                                                    <suki:Loading Width="16" Height="16"
                                                                                                  IsVisible="{Binding Model.IsTesting}" />
                                                                                </Panel>
                                                                            </Button>
                                                                        </StackPanel>
                                                                    </Grid>
                                                                </suki:GroupBox.Header>
                                                                <Grid>
                                                                    <!-- Content -->
                                                                    <StackPanel Orientation="Vertical" Spacing="5">
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="API URL" MinWidth="60" />
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{Binding ApiUrl}"
                                                                                    Opacity="0.7" MaxWidth="200"
                                                                                    TextTrimming="CharacterEllipsis" />
                                                                        </StackPanel>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{x:Static lang:Resources.Model}"
                                                                                    MinWidth="60" />
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{Binding ModelName}"
                                                                                    Opacity="0.7" />
                                                                        </StackPanel>
                                                                        <!-- Key Count Display (Unified for all models) -->
                                                                        <StackPanel Orientation="Horizontal">
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{x:Static lang:Resources.Keys}"
                                                                                    MinWidth="60" />
                                                                            <TextBlock VerticalAlignment="Center"
                                                                                    Text="{Binding Model.ApiKeys.Count, StringFormat='{}{0} keys'}"
                                                                                    Opacity="0.7" />
                                                                            <Button Classes="Flat" Margin="10,0,0,0"
                                                                                    Padding="5,2"
                                                                                    Command="{Binding $parent[ItemsControl].((viewModels:SettingViewModel)DataContext).EditModelKeysCommand}"
                                                                                    CommandParameter="{Binding Model}">
                                                                                <TextBlock
                                                                                    Text="{x:Static lang:Resources.EditKeys}"
                                                                                    FontSize="12" />
                                                                            </Button>
                                                                        </StackPanel>
                                                                    </StackPanel>

                                                                    <!-- Action Overlay -->
                                                                    <StackPanel Classes="ActionButtons"
                                                                            Orientation="Horizontal"
                                                                            Spacing="0"
                                                                            HorizontalAlignment="Right"
                                                                            VerticalAlignment="Bottom">
                                                                        <Button Classes="Flat"
                                                                                CornerRadius="8,0,0,8"
                                                                                Command="{Binding $parent[ItemsControl].((viewModels:SettingViewModel)DataContext).EditModelCommand}"
                                                                                CommandParameter="{Binding Model}"
                                                                                ToolTip.Tip="{x:Static lang:Resources.Edit}">
                                                                            <Button.Content>
                                                                                <avalonia:MaterialIcon Kind="Pencil" />
                                                                            </Button.Content>
                                                                        </Button>
                                                                        <Button Classes="Flat Danger"
                                                                                CornerRadius="0,8,8,0"
                                                                                Command="{Binding $parent[ItemsControl].((viewModels:SettingViewModel)DataContext).DeleteModelCommand}"
                                                                                CommandParameter="{Binding Model}"
                                                                                ToolTip.Tip="{x:Static lang:Resources.Delete}">
                                                                            <Button.Content>
                                                                                <avalonia:MaterialIcon Kind="TrashCan" />
                                                                            </Button.Content>
                                                                        </Button>
                                                                    </StackPanel>
                                                                </Grid>
                                                            </suki:GroupBox>
                                                        </suki:GlassCard>

                                                        <!-- Add Model Button (visible when IsAddButton is true) -->
                                                        <Button
                                                            Command="{Binding $parent[ItemsControl].((viewModels:SettingViewModel)DataContext).AddModelCommand}"
                                                            Background="Transparent"
                                                            BorderThickness="0"
                                                            Margin="-15 0 0 0"
                                                            Cursor="Hand"
                                                            IsVisible="{Binding IsAddButton}">
                                                            <Grid MinWidth="340" MinHeight="180">
                                                                <!-- Dashed Border using Rectangle -->
                                                                <Rectangle Stroke="{DynamicResource SukiPrimaryColor}"
                                                                           StrokeThickness="2"
                                                                           StrokeDashArray="4,2"
                                                                           RadiusX="20" RadiusY="20"
                                                                           Opacity="0.6" />
                                                                <!-- Content -->
                                                                <StackPanel VerticalAlignment="Center"
                                                                            HorizontalAlignment="Center" Spacing="10">
                                                                    <avalonia:MaterialIcon Kind="Plus" Width="40"
                                                                            Height="40"
                                                                            HorizontalAlignment="Center"
                                                                            Opacity="0.6" />
                                                                    <TextBlock
                                                                        Text="{x:Static lang:Resources.AddModel}"
                                                                        HorizontalAlignment="Center"
                                                                        Opacity="0.6" />
                                                                </StackPanel>
                                                            </Grid>
                                                        </Button>
                                                    </Panel>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>

                                    </StackPanel>
                                </TabItem>
                                <TabItem Header="{x:Static lang:Resources.TransEngine}">
                                    <StackPanel>
                                        <WrapPanel>
                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <suki:GlassCard Width="320">
                                                    <suki:GroupBox>
                                                        <suki:GroupBox.Header>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                                                    <Border Margin="0,0,10,0"
                                                                            ClipToBounds="True"
                                                                            CornerRadius="4"
                                                                            Height="20"
                                                                            Width="20">
                                                                        <Image
                                                                            Source="avares://EasyChat/Assets/Images/Engine/Baidu.png"
                                                                            Stretch="UniformToFill" />
                                                                    </Border>
                                                                    <TextBlock VerticalAlignment="Center"
                                                                               Text="{x:Static lang:Resources.Baidu}" />
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="2">
                                                                    <ToggleButton
                                                                              IsChecked="{Binding MachineTransConf.Baidu.UseProxy}"
                                                                              ToolTip.Tip="{x:Static lang:Resources.UseProxy}"
                                                                              Background="Transparent"
                                                                              BorderThickness="0"
                                                                              Padding="4"
                                                                              Cursor="Hand">
                                                                        <avalonia:MaterialIcon Kind="Vpn"
                                                                                Width="18" Height="18">
                                                                            <avalonia:MaterialIcon.Foreground>
                                                                                <MultiBinding Converter="{x:Static converts:BoolToColorConverter.Instance}">
                                                                                    <Binding Path="MachineTransConf.Baidu.UseProxy" />
                                                                                </MultiBinding>
                                                                            </avalonia:MaterialIcon.Foreground>
                                                                        </avalonia:MaterialIcon>
                                                                    </ToggleButton>
                                                                    <Button
                                                                            Command="{Binding TestBaiduConnectionCommand}"
                                                                            ToolTip.Tip="{x:Static lang:Resources.TestConnection}"
                                                                            Background="Transparent"
                                                                            BorderThickness="0"
                                                                            Padding="4"
                                                                            Cursor="Hand">
                                                                        <Panel>
                                                                            <avalonia:MaterialIcon Kind="Connection" Width="18" Height="18"
                                                                                    IsVisible="{Binding !IsTestingBaidu}" />
                                                                            <suki:Loading Width="18" Height="18"
                                                                                    IsVisible="{Binding IsTestingBaidu}" />
                                                                        </Panel>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </suki:GroupBox.Header>
                                                        <StackPanel Orientation="Vertical" Spacing="10">
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Keys}"
                                                                           Width="45" />
                                                                <TextBlock VerticalAlignment="Center"
                                                                           Text="{Binding MachineTransConf.Baidu.Items.Count, StringFormat='{}{0} keys'}"
                                                                           Opacity="0.7" Margin="0,0,10,0" Width="60" />
                                                                <Button Classes="Flat" Padding="5,2"
                                                                        Command="{Binding EditBaiduKeysCommand}">
                                                                    <TextBlock
                                                                        Text="{x:Static lang:Resources.EditKeys}"
                                                                        FontSize="12" />
                                                                </Button>
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </suki:GroupBox>
                                                </suki:GlassCard>
                                            </StackPanel>

                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <suki:GlassCard Width="320">
                                                    <suki:GroupBox>
                                                        <suki:GroupBox.Header>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                                                    <Border Margin="0,0,10,0"
                                                                            ClipToBounds="True"
                                                                            CornerRadius="4"
                                                                            Height="20"
                                                                            Width="20">
                                                                        <Image
                                                                            Source="avares://EasyChat/Assets/Images/Engine/Tencent.png"
                                                                            Stretch="UniformToFill" />
                                                                    </Border>
                                                                    <TextBlock VerticalAlignment="Center"
                                                                               Text="{x:Static lang:Resources.Tencent}" />
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="2">
                                                                    <ToggleButton
                                                                              IsChecked="{Binding MachineTransConf.Tencent.UseProxy}"
                                                                              ToolTip.Tip="{x:Static lang:Resources.UseProxy}"
                                                                              Background="Transparent"
                                                                              BorderThickness="0"
                                                                              Padding="4"
                                                                              Cursor="Hand">
                                                                        <avalonia:MaterialIcon Kind="Vpn"
                                                                                Width="18" Height="18">
                                                                            <avalonia:MaterialIcon.Foreground>
                                                                                <MultiBinding Converter="{x:Static converts:BoolToColorConverter.Instance}">
                                                                                    <Binding Path="MachineTransConf.Tencent.UseProxy" />
                                                                                </MultiBinding>
                                                                            </avalonia:MaterialIcon.Foreground>
                                                                        </avalonia:MaterialIcon>
                                                                    </ToggleButton>
                                                                    <Button
                                                                            Command="{Binding TestTencentConnectionCommand}"
                                                                            ToolTip.Tip="{x:Static lang:Resources.TestConnection}"
                                                                            Background="Transparent"
                                                                            BorderThickness="0"
                                                                            Padding="4"
                                                                            Cursor="Hand">
                                                                        <Panel>
                                                                            <avalonia:MaterialIcon Kind="Connection" Width="18" Height="18"
                                                                                    IsVisible="{Binding !IsTestingTencent}" />
                                                                            <suki:Loading Width="18" Height="18"
                                                                                    IsVisible="{Binding IsTestingTencent}" />
                                                                        </Panel>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </suki:GroupBox.Header>
                                                        <StackPanel Orientation="Vertical" Spacing="10">
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Keys}"
                                                                           Width="45" />
                                                                <TextBlock VerticalAlignment="Center"
                                                                           Text="{Binding MachineTransConf.Tencent.Items.Count, StringFormat='{}{0} keys'}"
                                                                           Opacity="0.7" Margin="0,0,10,0" Width="60" />
                                                                <Button Classes="Flat" Padding="5,2"
                                                                        Command="{Binding EditTencentKeysCommand}">
                                                                    <TextBlock
                                                                        Text="{x:Static lang:Resources.EditKeys}"
                                                                        FontSize="12" />
                                                                </Button>
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </suki:GroupBox>
                                                </suki:GlassCard>
                                            </StackPanel>

                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <suki:GlassCard Width="320">
                                                    <suki:GroupBox>
                                                        <suki:GroupBox.Header>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                                                    <Border Margin="0,0,10,0"
                                                                            ClipToBounds="True"
                                                                            CornerRadius="4"
                                                                            Height="20"
                                                                            Width="20">
                                                                        <Image
                                                                            Source="avares://EasyChat/Assets/Images/Engine/Google.png"
                                                                            Stretch="UniformToFill" />
                                                                    </Border>
                                                                    <TextBlock VerticalAlignment="Center"
                                                                               Text="{x:Static lang:Resources.Google}" />
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="2">
                                                                    <ToggleButton
                                                                              IsChecked="{Binding MachineTransConf.Google.UseProxy}"
                                                                              ToolTip.Tip="{x:Static lang:Resources.UseProxy}"
                                                                              Background="Transparent"
                                                                              BorderThickness="0"
                                                                              Padding="4"
                                                                              Cursor="Hand">
                                                                        <avalonia:MaterialIcon Kind="Vpn"
                                                                                Width="18" Height="18">
                                                                            <avalonia:MaterialIcon.Foreground>
                                                                                <MultiBinding Converter="{x:Static converts:BoolToColorConverter.Instance}">
                                                                                    <Binding Path="MachineTransConf.Google.UseProxy" />
                                                                                </MultiBinding>
                                                                            </avalonia:MaterialIcon.Foreground>
                                                                        </avalonia:MaterialIcon>
                                                                    </ToggleButton>
                                                                    <Button
                                                                            Command="{Binding TestGoogleConnectionCommand}"
                                                                            ToolTip.Tip="{x:Static lang:Resources.TestConnection}"
                                                                            Background="Transparent"
                                                                            BorderThickness="0"
                                                                            Padding="4"
                                                                            Cursor="Hand">
                                                                        <Panel>
                                                                            <avalonia:MaterialIcon Kind="Connection" Width="18" Height="18"
                                                                                    IsVisible="{Binding !IsTestingGoogle}" />
                                                                            <suki:Loading Width="18" Height="18"
                                                                                    IsVisible="{Binding IsTestingGoogle}" />
                                                                        </Panel>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </suki:GroupBox.Header>
                                                        <StackPanel Orientation="Vertical" Spacing="10">
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Model}"
                                                                           Width="45" />
                                                                <TextBox Width="220"
                                                                         Text="{Binding MachineTransConf.Google.Model}"
                                                                         suki:TextBoxExtensions.AddDeleteButton="True" />
                                                            </StackPanel>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Keys}"
                                                                           Width="45" />
                                                                <TextBlock VerticalAlignment="Center"
                                                                           Text="{Binding MachineTransConf.Google.ApiKeys.Count, StringFormat='{}{0} keys'}"
                                                                           Opacity="0.7" Margin="0,0,10,0" Width="60" />
                                                                <Button Classes="Flat" Padding="5,2"
                                                                        Command="{Binding EditGoogleKeysCommand}">
                                                                    <TextBlock
                                                                        Text="{x:Static lang:Resources.EditKeys}"
                                                                        FontSize="12" />
                                                                </Button>
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </suki:GroupBox>
                                                </suki:GlassCard>
                                            </StackPanel>

                                            <StackPanel Orientation="Horizontal" Margin="5">
                                                <suki:GlassCard Width="320">
                                                    <suki:GroupBox>
                                                        <suki:GroupBox.Header>
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="*" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>
                                                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                                                    <Border Margin="0,0,10,0"
                                                                            ClipToBounds="True"
                                                                            CornerRadius="4"
                                                                            Height="20"
                                                                            Width="20">
                                                                        <Image
                                                                            Source="avares://EasyChat/Assets/Images/Engine/DeepL.png"
                                                                            Stretch="UniformToFill" />
                                                                    </Border>
                                                                    <TextBlock VerticalAlignment="Center"
                                                                               Text="{x:Static lang:Resources.DeepL}" />
                                                                </StackPanel>
                                                                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="2">
                                                                    <ToggleButton
                                                                              IsChecked="{Binding MachineTransConf.DeepL.UseProxy}"
                                                                              ToolTip.Tip="{x:Static lang:Resources.UseProxy}"
                                                                              Background="Transparent"
                                                                              BorderThickness="0"
                                                                              Padding="4"
                                                                              Cursor="Hand">
                                                                        <avalonia:MaterialIcon Kind="Vpn"
                                                                                Width="18" Height="18">
                                                                            <avalonia:MaterialIcon.Foreground>
                                                                                <MultiBinding Converter="{x:Static converts:BoolToColorConverter.Instance}">
                                                                                    <Binding Path="MachineTransConf.DeepL.UseProxy" />
                                                                                </MultiBinding>
                                                                            </avalonia:MaterialIcon.Foreground>
                                                                        </avalonia:MaterialIcon>
                                                                    </ToggleButton>
                                                                    <Button
                                                                            Command="{Binding TestDeepLConnectionCommand}"
                                                                            ToolTip.Tip="{x:Static lang:Resources.TestConnection}"
                                                                            Background="Transparent"
                                                                            BorderThickness="0"
                                                                            Padding="4"
                                                                            Cursor="Hand">
                                                                        <Panel>
                                                                            <avalonia:MaterialIcon Kind="Connection" Width="18" Height="18"
                                                                                    IsVisible="{Binding !IsTestingDeepL}" />
                                                                            <suki:Loading Width="18" Height="18"
                                                                                    IsVisible="{Binding IsTestingDeepL}" />
                                                                        </Panel>
                                                                    </Button>
                                                                </StackPanel>
                                                            </Grid>
                                                        </suki:GroupBox.Header>
                                                        <StackPanel Orientation="Vertical" Spacing="10">
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Model}"
                                                                           Width="40" />
                                                                <ComboBox Width="230"
                                                                          ItemsSource="{Binding DeepLModelTypes}"
                                                                          SelectedItem="{Binding MachineTransConf.DeepL.ModelType}" />
                                                            </StackPanel>
                                                            <StackPanel Orientation="Horizontal">
                                                                <TextBlock VerticalAlignment="Center"
                                                                           TextAlignment="Left"
                                                                           Text="{x:Static lang:Resources.Keys}"
                                                                           Width="45" />
                                                                <TextBlock VerticalAlignment="Center"
                                                                           Text="{Binding MachineTransConf.DeepL.ApiKeys.Count, StringFormat='{}{0} keys'}"
                                                                           Opacity="0.7" Margin="0,0,10,0" Width="60" />
                                                                <Button Classes="Flat" Padding="5,2"
                                                                        Command="{Binding EditDeepLKeysCommand}">
                                                                    <TextBlock
                                                                        Text="{x:Static lang:Resources.EditKeys}"
                                                                        FontSize="12" />
                                                                </Button>
                                                            </StackPanel>
                                                        </StackPanel>
                                                    </suki:GroupBox>
                                                </suki:GlassCard>
                                            </StackPanel>

                                        </WrapPanel>

                                    </StackPanel>
                                </TabItem>
                            </TabControl>
                        </suki:GlassCard>
                    </suki:SettingsLayoutItem.Content>
                </suki:SettingsLayoutItem>

                <suki:SettingsLayoutItem Header="{x:Static lang:Resources.ScreenshotMode}">
                    <suki:SettingsLayoutItem.Content>
                        <suki:GlassCard>
                            <StackPanel>
                                <StackPanel Orientation="Horizontal" Spacing="30" Margin="0 5 0 5">
                                    <TextBlock FontWeight="Bold" VerticalAlignment="Center"
                                               Text="{x:Static lang:Resources.ScreenshotMode}" />
                                    <ComboBox ItemsSource="{Binding ScreenshotModes}"
                                              SelectedItem="{Binding SelectedScreenshotMode}"
                                              MinWidth="150">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Converter={StaticResource ScreenshotModeConverter}}" />
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </StackPanel>
                                <Button Content="{x:Static lang:Resources.FixedAreaSettings}" 
                                        Command="{Binding ManageFixedAreasCommand}" 
                                        HorizontalAlignment="Left"
                                        Classes="Flat"
                                        Margin="0,5,0,0"/>
                            </StackPanel>
                        </suki:GlassCard>
                    </suki:SettingsLayoutItem.Content>
                </suki:SettingsLayoutItem>
                
                <suki:SettingsLayoutItem Header="{x:Static lang:Resources.ResultSettings}">
                    <suki:SettingsLayoutItem.Content>
                        <suki:GlassCard>
                            <StackPanel Spacing="15">
                                <!-- Font Size -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.FontSize}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <NumericUpDown Value="{Binding ResultConf.FontSize}"
                                                   Minimum="10" Maximum="50" Increment="1"
                                                   FormatString="N0"
                                                   HorizontalAlignment="Right" Width="150" />
                                </DockPanel>

                                <!-- Font Family -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.FontFamily}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <ComboBox ItemsSource="{Binding AvailableFonts}"
                                              SelectedItem="{Binding ResultConf.FontFamily}"
                                              HorizontalAlignment="Right" Width="150">
                                              <ComboBox.ItemTemplate>
                                                  <DataTemplate>
                                                      <TextBlock Text="{Binding .}" FontFamily="{Binding ., Converter={x:Static converts:StringToFontFamilyConverter.Instance}}" VerticalAlignment="Center" />
                                                  </DataTemplate>
                                              </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </DockPanel>

                                <Separator Opacity="0.1" />
                                
                                <!-- Font Size -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.FontColor}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <TextBox Text="{Binding ResultConf.FontColor}"
                                                 Watermark="#FFFFFFFF"
                                                 Width="120" VerticalAlignment="Center"/>
                                        <Button Width="35" Height="35" CornerRadius="20" BorderThickness="1" BorderBrush="#33000000">
                                            <Button.Background>
                                                <SolidColorBrush Color="{Binding ResultConf.FontColor, Converter={StaticResource ColorToHexConverter}}"/>
                                            </Button.Background>
                                            <Button.Flyout>
                                                <Flyout Placement="Bottom">
                                                    <Border CornerRadius="10" Padding="10" Background="{DynamicResource SukiCardBackground}">
                                                        <ColorView Color="{Binding ResultConf.FontColor, Converter={StaticResource ColorToHexConverter}}" 
                                                                   IsAlphaEnabled="True" ColorSpectrumShape="Ring" />
                                                    </Border>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </DockPanel>

                                <Separator Opacity="0.1" />
                                
                                <!-- Transparency Level -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TransparencyLevel}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <ComboBox ItemsSource="{Binding TransparencyLevels}"
                                              SelectedItem="{Binding ResultConf.TransparencyLevel}"
                                              HorizontalAlignment="Right" Width="150" />
                                </DockPanel>
                                
                                <Separator Opacity="0.1" />
                                
                                <!-- Background Color -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.BackgroundColor}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <TextBox Text="{Binding ResultConf.BackgroundColor}"
                                                 Watermark="#CC000000"
                                                 Width="120" VerticalAlignment="Center"/>
                                        <Button Width="35" Height="35" CornerRadius="20" BorderThickness="1" BorderBrush="#33000000">
                                            <Button.Background>
                                                <SolidColorBrush Color="{Binding ResultConf.BackgroundColor, Converter={StaticResource ColorToHexConverter}}"/>
                                            </Button.Background>
                                            <Button.Flyout>
                                                <Flyout Placement="Bottom">
                                                    <Border CornerRadius="10" Padding="10" Background="{DynamicResource SukiCardBackground}">
                                                        <ColorView Color="{Binding ResultConf.BackgroundColor, Converter={StaticResource ColorToHexConverter}}" 
                                                                   IsAlphaEnabled="True" ColorSpectrumShape="Ring" />
                                                    </Border>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </DockPanel>

                                <Separator Opacity="0.1" />
                                
                                <!-- Window Background Color -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.WindowBackgroundColor}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <TextBox Text="{Binding ResultConf.WindowBackgroundColor}"
                                                 Watermark="#00000000"
                                                 Width="120" VerticalAlignment="Center"/>
                                        <Button Width="35" Height="35" CornerRadius="20" BorderThickness="1" BorderBrush="#33000000">
                                            <Button.Background>
                                                <SolidColorBrush Color="{Binding ResultConf.WindowBackgroundColor, Converter={StaticResource ColorToHexConverter}}"/>
                                            </Button.Background>
                                            <Button.Flyout>
                                                <Flyout Placement="Bottom">
                                                    <Border CornerRadius="10" Padding="10" Background="{DynamicResource SukiCardBackground}">
                                                        <ColorView Color="{Binding ResultConf.WindowBackgroundColor, Converter={StaticResource ColorToHexConverter}}" 
                                                                   IsAlphaEnabled="True" ColorSpectrumShape="Ring" />
                                                    </Border>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </DockPanel>

                                <Separator Opacity="0.1" />

                                <!-- Auto Calculate Delay Toggle -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.EnableAutoReadDelay}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <ToggleSwitch IsChecked="{Binding ResultConf.EnableAutoReadDelay}"
                                                  HorizontalAlignment="Right"
                                                  OnContent="" OffContent="" />
                                </DockPanel>

                                <!-- Fixed Delay Setting (Visible when Auto is OFF) -->
                                <DockPanel IsVisible="{Binding !ResultConf.EnableAutoReadDelay}">
                                    <TextBlock Text="{x:Static lang:Resources.ResultAutoCloseDelay}"
                                               VerticalAlignment="Center" Margin="20,0,0,0" Opacity="0.8" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <NumericUpDown Value="{Binding ResultConf.AutoCloseDelay}"
                                                       Minimum="1000" Maximum="60000" Increment="500"
                                                       FormatString="N0" Width="150" />
                                        <TextBlock Text="ms" VerticalAlignment="Center" Opacity="0.6" Width="30" />
                                    </StackPanel>
                                </DockPanel>

                                <!-- Ms Per Char Setting (Visible when Auto is ON) -->
                                <DockPanel IsVisible="{Binding ResultConf.EnableAutoReadDelay}">
                                    <TextBlock Text="{x:Static lang:Resources.MsPerChar}"
                                               VerticalAlignment="Center" Margin="20,0,0,0" Opacity="0.8" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <NumericUpDown Value="{Binding ResultConf.MsPerChar}"
                                                       Minimum="10" Maximum="1000" Increment="10"
                                                       FormatString="N0" Width="150" />
                                        <TextBlock Text="ms" VerticalAlignment="Center" Opacity="0.6" Width="30" />
                                    </StackPanel>
                                </DockPanel>
                            </StackPanel>
                        </suki:GlassCard>
                    </suki:SettingsLayoutItem.Content>
                </suki:SettingsLayoutItem>
                
                <suki:SettingsLayoutItem Header="{x:Static lang:Resources.InputSettings}">
                    <suki:SettingsLayoutItem.Content>
                        <suki:GlassCard>
                            <StackPanel Spacing="15">
                                <!-- Transparency Level -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.TransparencyLevel}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <ComboBox ItemsSource="{Binding TransparencyLevels}"
                                              SelectedItem="{Binding InputConf.TransparencyLevel}"
                                              HorizontalAlignment="Right" Width="150" />
                                </DockPanel>
                                
                                <Separator Opacity="0.1" />
                                
                                <!-- Background Color -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.BackgroundColor}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <TextBox Text="{Binding InputConf.BackgroundColor}"
                                                 Watermark="#CC000000"
                                                 Width="120" VerticalAlignment="Center"/>
                                        <Button Width="35" Height="35" CornerRadius="20" BorderThickness="1" BorderBrush="#33000000">
                                            <Button.Background>
                                                <SolidColorBrush Color="{Binding InputConf.BackgroundColor, Converter={StaticResource ColorToHexConverter}}"/>
                                            </Button.Background>
                                            <Button.Flyout>
                                                <Flyout Placement="Bottom">
                                                    <Border CornerRadius="10" Padding="10" Background="{DynamicResource SukiCardBackground}">
                                                        <ColorView Color="{Binding InputConf.BackgroundColor, Converter={StaticResource ColorToHexConverter}}" 
                                                                   IsAlphaEnabled="True" ColorSpectrumShape="Ring" />
                                                    </Border>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </DockPanel>

                                <Separator Opacity="0.1" />

                                <!-- Font Color -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.FontColor}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <TextBox Text="{Binding InputConf.FontColor}"
                                                 Watermark="#FFFFFFFF"
                                                 Width="120" VerticalAlignment="Center"/>
                                        <Button Width="35" Height="35" CornerRadius="20" BorderThickness="1" BorderBrush="#33000000">
                                            <Button.Background>
                                                <SolidColorBrush Color="{Binding InputConf.FontColor, Converter={StaticResource ColorToHexConverter}}"/>
                                            </Button.Background>
                                            <Button.Flyout>
                                                <Flyout Placement="Bottom">
                                                    <Border CornerRadius="10" Padding="10" Background="{DynamicResource SukiCardBackground}">
                                                        <ColorView Color="{Binding InputConf.FontColor, Converter={StaticResource ColorToHexConverter}}" 
                                                                   IsAlphaEnabled="True" ColorSpectrumShape="Ring" />
                                                    </Border>
                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </StackPanel>
                                </DockPanel>

                                <Separator Opacity="0.1" />

                                <!-- Delivery Mode -->
                                <DockPanel>
                                    <TextBlock Text="{x:Static lang:Resources.InputDeliveryMode}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <ComboBox ItemsSource="{Binding InputDeliveryModes}"
                                              SelectedItem="{Binding InputConf.DeliveryMode}"
                                              HorizontalAlignment="Right" MinWidth="200">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate>
                                                <TextBlock Text="{Binding Converter={StaticResource DeliveryModeToStringConverter}}"/>
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>
                                </DockPanel>

                                <Separator Opacity="0.1" />

                                <!-- Key Send Delay (Linked to DeliveryMode) -->
                                <DockPanel IsVisible="{Binding InputConf.DeliveryMode, Converter={StaticResource DeliveryModeToBoolConverter}}">
                                    <TextBlock Text="{x:Static lang:Resources.KeySendDelay}"
                                               VerticalAlignment="Center" FontWeight="Bold" />
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Spacing="10">
                                        <NumericUpDown Value="{Binding InputConf.KeySendDelay}"
                                                       Minimum="0" Maximum="1000" Increment="10"
                                                       FormatString="N0" Width="150" />
                                        <TextBlock Text="ms" VerticalAlignment="Center" Opacity="0.6" Width="30" />
                                    </StackPanel>
                                </DockPanel>
                            </StackPanel>
                        </suki:GlassCard>
                    </suki:SettingsLayoutItem.Content>
                </suki:SettingsLayoutItem>
            </objectModel:ObservableCollection>
        </suki:SettingsLayout.Items>
    </suki:SettingsLayout>
</UserControl>
